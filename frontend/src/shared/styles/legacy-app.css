/* src/main/resources/static/app.css */
:root{
  --bg:#f3f3f3;
  --panel:#ffffff;
  --text:#222;
  --muted:#666;
  --line:#d9d9d9;
  --line-2:#ececec;
  --brand:#e60012;
  --brand-2:#b0000e;
  --focus:#2b7cff;
  --required:#e60012;
  --optional:#6b6b6b;
  --error:#b00020;
  --error-bg:#fff0f2;
  --shadow:0 1px 2px rgba(0,0,0,.06);
  --radius:4px;
  --container:980px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  color:var(--text);
  background:var(--bg);
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans JP", "Hiragino Kaku Gothic ProN", "Meiryo", sans-serif;
  line-height:1.55;
}

a{color:var(--brand); text-decoration:underline}
code{background:#fafafa; border:1px solid var(--line-2); padding:0 .35em; border-radius:3px}

/* ------------------------------------------------
   JR-style header (as per screenshot)
------------------------------------------------- */
.jr-header{background:#fff; box-shadow:var(--shadow)}
.jr-header__top{background:#fff}
.jr-header__top-inner{
  max-width:var(--container);
  margin:0 auto;
  padding:12px 16px;
  display:flex;
  align-items:center;
}
.jr-brand{
  display:inline-flex;
  align-items:center;
  gap:12px;
  text-decoration:none;
  color:#111;
}

.jr-brand__img{display:block;height:28px;width:auto}
@media (min-width:768px){.jr-brand__img{height:32px}}
.jr-brand__mark{
  font-weight:900;
  font-size:28px;
  line-height:1;
  color:var(--brand);
  letter-spacing:-.04em;
}
.jr-brand__title{
  font-weight:900;
  font-size:22px;
  letter-spacing:.01em;
}

.jr-header__bar{background:#3a3a3a}
.jr-header__bar-inner{
  max-width:var(--container);
  margin:0 auto;
  padding:0 16px;
  display:flex;
  align-items:flex-end;
  gap:0;
}

.jr-tab{
  display:inline-flex;
  align-items:center;
  gap:12px;
  padding:14px 28px;
  border-radius:6px 6px 0 0;
  color:#fff;
  text-decoration:none;
  font-weight:900;
  letter-spacing:.01em;
  position:relative;
}
.jr-tab__icon{
  width:34px;
  height:34px;
  border-radius:999px;
  background:#fff;
  display:grid;
  place-items:center;
  flex:0 0 auto;
}
.jr-tab__icon svg{
  width:18px;
  height:18px;
  fill:none;
  stroke:currentColor;
  stroke-width:2;
  stroke-linecap:round;
  stroke-linejoin:round;
}

.jr-tab--train{background:#000}
.jr-tab--train .jr-tab__icon{color:#000}

.jr-tab--portal{background:var(--brand)}
.jr-tab--portal .jr-tab__icon{color:var(--brand)}

.jr-tab.is-active{
  box-shadow:0 -2px 0 rgba(255,255,255,.65) inset;
}

@media (max-width: 820px){
  .jr-header__top-inner{padding:10px 12px}
  .jr-brand__title{font-size:18px}
  .jr-header__bar-inner{padding:0 12px}
  .jr-tab{padding:12px 14px; border-radius:0}
}


.page{padding:22px 0 32px}
.page__inner{
  max-width:var(--container);
  margin:0 auto;
  padding:0 16px;
}
.page-title{
  margin:0 0 14px;
  font-size:24px;
  font-weight:800;
  letter-spacing:.02em;
}

.notice{
  background:var(--panel);
  border:1px solid var(--line);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:12px 14px;
  margin-bottom:12px;
}
.notice__text{margin:0 0 6px; font-weight:700}
.notice__list{margin:0; padding-left:18px; color:var(--muted); font-size:13px}
.notice__list li{margin:2px 0}

.required-remaining{
  display:flex;
  align-items:center;
  gap:8px;
  margin:0 0 10px;
  color:var(--muted);
  font-size:13px;
}
.required-remaining__label{font-weight:700}
.required-remaining__count{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  min-width:30px;
  padding:2px 8px;
  border-radius:999px;
  background:#fff;
  border:1px solid var(--line);
  color:#111;
  font-weight:800;
}

.signup-form{
  background:var(--panel);
  border:1px solid var(--line);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:14px;
}

.form-section{
  border-top:1px solid var(--line-2);
  padding-top:14px;
  margin-top:14px;
}
.form-section:first-of-type{
  border-top:none;
  padding-top:0;
  margin-top:0;
}

.section-title{
  margin:0 0 10px;
  font-size:16px;
  font-weight:800;
  color:#111;
  padding-left:10px;
  border-left:4px solid var(--brand);
  display:flex;
  align-items:center;
  gap:10px;
}


.section-required{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  height:20px;
  padding:0 10px;
  border-radius:999px;
  font-size:12px;
  font-weight:900;
  letter-spacing:.04em;
  color:#fff;
  background:var(--required);
  border:1px solid var(--required);
  user-select:none;
}

.required-asterisk{
  color:var(--required);
  font-weight:900;
  margin-left:4px;
}

.sr-only{
  position:absolute !important;
  width:1px;
  height:1px;
  padding:0;
  margin:-1px;
  overflow:hidden;
  clip:rect(0,0,0,0);
  white-space:nowrap;
  border:0;
}

.is-hidden{display:none !important;}

.form-row{
  display:flex;
  gap:14px;
  /* padding:10px 0;
  border-top:1px solid var(--line-2); */
}
.form-row:first-of-type{border-top:none}

.form-label{
  width:260px;
  flex:0 0 auto;
  font-size:14px;
  font-weight:700;
  color:#111;
  display:flex;
  align-items:flex-start;
  gap:8px;
  padding-top:11px;
}
.form-label__text{line-height:1.35}

.form-control{
  flex:1 1 auto;
  min-width:0;
}

.badge{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  height:20px;
  padding:0 8px;
  border-radius:999px;
  font-size:12px;
  font-weight:800;
  letter-spacing:.04em;
  border:1px solid transparent;
  user-select:none;
}
.badge--required{
  color:#fff;
  background:var(--required);
  border-color:var(--required);
}
.badge--optional{
  color:#fff;
  background:var(--optional);
  border-color:var(--optional);
}

.input-sub-label{
  display:block;
  font-size:12px;
  color:var(--muted);
  margin-bottom:4px;
  font-weight:700;
}

.input-text,
.input-select{
  width:100%;
  height:36px;
  padding:7px 10px;
  border-radius:var(--radius);
  border:1px solid #bfbfbf;
  background:#fff;
  color:#111;
  font-size:14px;
  outline:none;
}
.input-select{padding-right:28px}

.input-text:focus,
.input-select:focus{
  border-color:var(--focus);
  box-shadow:0 0 0 3px rgba(43,124,255,.16);
}

.input-error{
  border-color:var(--error) !important;
  box-shadow:0 0 0 3px rgba(176,0,32,.12) !important;
}

.help-text{
  margin-bottom: 15px;
  margin-top: 0px;
  color:var(--muted);
  font-size:12px;
}

.input-pair{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:12px;
}
.input-field{min-width:0}

.input-birth{
  display:flex;
  align-items:center;
  gap:8px;
  flex-wrap:nowrap;
}
.input-birth .input-text,
.input-birth .input-select{width:auto}

.input-year{width:120px; max-width:120px}
.input-month,.input-day{width:64px; min-width:64px}
.unit-text{color:var(--muted); font-size:13px; font-weight:700}

.hint-bracket{
  margin-left:6px;
  font-size:13px;
  color:var(--muted);
  font-weight:700;
  white-space:nowrap;
}

@media (max-width: 700px){
  /* 小さい画面では折り返して崩れを防ぐ */
  .input-birth{flex-wrap:wrap}
}

.input-zip{
  display:flex;
  align-items:center;
  gap:8px;
  flex-wrap:wrap;
}
.input-zip1{max-width:96px}
.input-zip2{max-width:120px}

.input-tel{
  display:flex;
  align-items:center;
  gap:8px;
  flex-wrap:wrap;
}
.input-tel1,.input-tel2,.input-tel3{max-width:130px}

.radio-group{
  display:flex;
  gap:18px;
  flex-wrap:wrap;
  padding-top:6px;
}
.radio-item{
  display:inline-flex;
  align-items:center;
  gap:8px;
  font-size:14px;
  font-weight:700;
  color:#111;
}
.radio-item input{transform:translateY(1px)}

.button{
  height:36px;
  padding:0 14px;
  border-radius:var(--radius);
  border:1px solid #bfbfbf;
  background:#fff;
  color:#111;
  font-weight:800;
  font-size:14px;
  cursor:pointer;
}
.button:hover{filter:brightness(.98)}
.button:active{transform:translateY(1px)}
.button--secondary{
  background:#f7f7f7;
}
.button--primary{
  background:var(--brand);
  border-color:var(--brand);
  color:#fff;
  min-width:220px;
  height:44px;
  font-size:15px;
}
.button--primary:hover{background:var(--brand-2); border-color:var(--brand-2)}

.form-actions{
  display:flex;
  justify-content:center;
  padding:16px 0 6px;
  border-top:1px solid var(--line-2);
  margin-top:16px;
}

.form-error-summary{
  display:none;
  border:1px solid var(--error);
  background:var(--error-bg);
  color:#111;
  border-radius:var(--radius);
  padding:10px 12px;
  margin:0 0 12px;
}
.form-error-summary ul{margin:0; padding-left:18px}
.form-error-summary li{margin:2px 0; color:var(--error); font-weight:800}
.form-error-summary.is-visible{display:block}

.field-error{
  min-height:16px;
  margin-top:6px;
  color:var(--error);
  font-size:12px;
  font-weight:800;
}
.field-error-group{
  display:flex;
  gap:12px;
  flex-wrap:wrap;
}
.field-error-group .field-error{margin-top:6px}

.site-footer{
  padding:18px 0 26px;
  color:var(--muted);
}
.site-footer__inner{
  max-width:var(--container);
  margin:0 auto;
  padding:0 16px;
  text-align:center;
}
.site-footer__copy{font-size:12px}

@media (max-width: 820px){
  .form-row{flex-direction:column; gap:8px}
  .form-label{width:auto}
  .button--primary{width:100%}
}

/* === 追記：エラーが空なら表示しない（空間も作らない） === */
.field-error:empty {
  display: none;
}

.field-error:not(:empty) {
  display: block;
  margin-top: 6px;
}



/* ------------------------------------------------
   Password block (match screenshot)
------------------------------------------------- */
.pw-guidance{
  margin:10px;
  background-color:#f2f2f2;
  display:flex;
  align-items:flex-start;
  gap:10px;
  padding:12px 14px;
  border-radius:10px;
}

.pw-guidance__icon{
  flex:0 0 auto;
  width:18px;
  height:18px;
  margin-top:2px;
  background-repeat:no-repeat;
  background-position:center;
  background-size:contain;
  background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath fill='%23d10000' d='M1 21h22L12 2 1 21z'/%3E%3Cpath fill='%23ffffff' d='M12 16.5c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1z'/%3E%3Cpath fill='%23ffffff' d='M11 10h2v5h-2z'/%3E%3C/svg%3E");
}

.pw-guidance__details{
  flex:1;
}

.pw-guidance__summary{
  cursor:pointer;
  list-style:none;
  color:#d10000;
  line-height:1.7;
  font-size: 13px;
}

.pw-guidance__summary::-webkit-details-marker{
  display:none;
}

.pw-guidance__more{
  margin-left:10px;
  text-decoration:underline;
  color:#d10000;
  font-size:12px;
  white-space:nowrap;
}

.pw-guidance__body{
  margin-top:8px;
  color:#d10000;
  line-height:1.7;
  font-size: 13px;
}



.pw-field-row{
  display:flex;
  align-items:center;
  gap:12px;
}
/* app.css で、既存の pw-visibility 定義の「後ろ」に追記（上書き） */

/* 入力欄の中に固定して入れる（ズームしても位置がズレない） */
.pw-input-wrap{ position: relative; }
.input-text--pw{ padding-right: 44px; } /* 既にあればそのままでOK */

.pw-visibility{
  position: absolute;
  right: 10px;
  top: 50%;
  transform: translateY(-50%);
  width: 32px;
  height: 32px;
  padding: 0;
  border: 0;
  background: transparent;
  display: grid;
  place-items: center;
  cursor: pointer;
}

.pw-visibility:focus{
  outline: 2px solid rgba(43,124,255,.35);
  outline-offset: 2px;
}

.pw-visibility__img{
  width: 22px;
  height: 22px;
  display: block;
  pointer-events: none;
}

/* disabled 見た目を維持したい場合（ロック項目と統一） */
.pw-visibility[disabled]{ cursor: not-allowed; opacity: .6; }


.pw-note{
  font-size:13px;
  color:#111;
  font-weight:700;
  white-space:nowrap;
}

.pw-rules{
  margin-top:10px;
}
.pw-rules__title{
  font-size:13px;
  font-weight:800;
  color:#111;
  margin:0 0 6px;
}
.pw-rules__list{
  list-style:none;
  padding:0;
  margin:0;
  display:grid;
  gap:6px;
  max-width:260px;
}
.pw-rules__list li{
  display:grid;
  grid-template-columns: 1fr auto;
  align-items:center;
  gap:10px;
  font-size:13px;
}
.pw-rules__status{
  font-weight:900;
  color:var(--brand);
}
.pw-rules__status.is-ok{color:#0a7b2a}

.pw-error{
  margin:10px 0 0;
  padding:0;
  display:none;
  align-items:flex-start;
  gap:8px;
  color:var(--brand);
  font-weight:900;
}
.pw-error.is-visible{display:flex}
.pw-error__icon{color:var(--brand); transform:translateY(2px); flex:0 0 auto}
.pw-error__text{font-size:13px; line-height:1.55}

/* ------------------------------------------------
   Right-side required-remaining callout (match screenshot)
------------------------------------------------- */
.required-callout{
  position:fixed;
  right:0;
  top:260px;
  z-index:60;
  width:260px;
  filter: drop-shadow(0 2px 6px rgba(0,0,0,.12));
}
.required-callout__inner{
  background:#ea5a60;
  color:#fff;
  padding:14px 16px 14px 22px;
  clip-path: polygon(12% 0, 100% 0, 100% 100%, 12% 100%, 0 50%);
}
.required-callout__lead{
  margin:0 0 10px;
  font-size:12px;
  font-weight:800;
  line-height:1.55;
}
.required-callout__bottom{
  display:flex;
  align-items:baseline;
  gap:10px;
}
.required-callout__label{
  font-size:16px;
  font-weight:900;
  letter-spacing:.02em;
}
.required-callout__num{
  font-size:46px;
  font-weight:900;
  line-height:1;
  color: yellow;
}
.required-callout__unit{
  font-size:18px;
  font-weight:900;
}

@media (max-width: 980px){
  .required-callout{display:none}
  .pw-field-row{flex-direction:column; align-items:flex-start}
  .pw-input-wrap{max-width:100%; width:100%}
}


/* ===== Birthdate row hint / warning ===== */
.inline-warn{
  display:flex;
  align-items:flex-start;
  gap:10px;
  margin:8px 0 0;
  color:var(--brand);
  font-size:13px;
  line-height:1.5;
}

.inline-warn__icon{
  width:18px;
  height:18px;
  flex:0 0 auto;
  margin-top:2px;
  background-repeat:no-repeat;
  background-size:contain;
  background-image:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='18' height='18' viewBox='0 0 24 24'><path fill='%23e60012' d='M1 21h22L12 2 1 21z'/><path fill='white' d='M13 16h-2v-2h2v2zm0-4h-2V8h2v4z'/></svg>");
}

/* ===== Locked (disabled) fields gray-out ===== */
input:disabled,
select:disabled,
textarea:disabled{
  background:#f2f2f2 !important;
  border-color:#d0d0d0 !important;
  color:#777 !important;
  opacity:1 !important;
  cursor:not-allowed !important;
}

input:disabled::placeholder,
textarea:disabled::placeholder{
  color:#9a9a9a !important;
}

input:disabled:focus,
select:disabled:focus,
textarea:disabled:focus{
  outline:none !important;
  box-shadow:none !important;
}

input[type="radio"]:disabled,
input[type="checkbox"]:disabled{
  cursor:not-allowed !important;
}

input[type="radio"]:disabled + label,
input[type="checkbox"]:disabled + label{
  color:#777 !important;
  cursor:not-allowed !important;
}

button:disabled,
input[type="button"]:disabled,
input[type="submit"]:disabled{
  background:#d9d9d9 !important;
  border-color:#cfcfcf !important;
  color:#777 !important;
  opacity:1 !important;
  cursor:not-allowed !important;
}

/* ===== help-text を常に「入力枠の下」に配置するための強制ルール ===== */
.form-control{display:block;}

.help-text{
  display:block;
  width:100%;
  clear:both;
}

/* もし help-text が grid / flex の子要素に入っても下段に落ちるようにする */
.input-pair .help-text,
.field-error-group .help-text{
  flex:0 0 100%;
}

/* grid内に入った場合は全幅 */
.input-pair .help-text{grid-column:1 / -1;}
